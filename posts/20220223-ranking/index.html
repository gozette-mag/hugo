<!doctype html><html lang=fr>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Le meilleur système de rang · La Gozette du senté</title>
<meta name=HandheldFriendly content="True">
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=stylesheet href=https://gozette.fr/style.main.min.c34e6915a95f1027dad7b48e5d1ff6e2bbf58b4e72c69d7ec6ac8e7352e961dc.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-99P12TBT04"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-99P12TBT04')</script>
<script type=text/javascript src=../../js/wgo/wgo.min.js></script>
<script type=text/javascript src=../../js/wgo/wgo.player.min.js></script>
<link type=text/css href=../../js/wgo/wgo.player.css rel=stylesheet>
<link type=text/css href=../../css/custom.css rel=stylesheet>
<script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}},window.addEventListener('load',a=>{document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'})})</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
</head>
<body class=post-template>
<div class=site-wrapper>
<header class=site-header><div class="outer site-nav-main">
<div class=inner><nav class=site-nav>
<div class=site-nav-left>
<a class=site-nav-logo href=https://gozette.fr>La Gozette du senté</a>
<div class=site-nav-content>
<ul class=nav role=menu>
<li class=nav-home role=menuitem><a href=../../categories/dossier/>Dossiers</a></li>
<li class=nav-home role=menuitem><a href=../../numeros/>Numéros</a></li>
<li class=nav-home role=menuitem><a href=../../author/>Contributeurs</a></li>
<li class=nav-home role=menuitem><a href=../../about/>About</a></li>
</ul>
</div>
</div>
</nav>
</div>
</div></header>
<main id=site-main class="site-main outer">
<div class=inner>
<article class="post-full post">
<header class=post-full-header>
<section class=post-full-tags>
<a href=../../tags/ranking>ranking</a>
</section>
<h1 class=post-full-title>Le meilleur système de rang</h1>
<div class=post-full-byline>
<section class=post-full-byline-content>
<ul class=author-list>
<li class=author-list-item>
<div class=author-card>
<div class=author-profile-image><svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21.0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#fff"/></g></svg></div>
<div class=author-info>
<div class=author-info>
<h2>Nicotupe</h2>
</div>
</div>
</div>
<a href=# class="author-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21.0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#fff"/></g></svg></a>
</li>
</ul>
<section class=post-full-byline-meta>
<h4 class=author-name>Nicotupe</h4>
<div class=byline-meta-content>
<time class=byline-meta-date datetime=2022-122-02>23 February 2022</time>
<span class=byline-reading-time><span class=bull>&bull;</span> 8 min read</span>
</div>
</section>
</section>
</div>
</header>
<figure class=post-full-image>
<img src=https://i.imgur.com/99cgzD2.jpg alt="Le meilleur système de rang">
</figure>
<section class=post-full-content>
<div class=post-content>
<p>Depuis que j&rsquo;ai rejoint SITS et d&rsquo;autres Discord de Go comme Fulguro, j&rsquo;entends beaucoup de discussion autour des rangs. L&rsquo;impression que j&rsquo;en ai est que beaucoup d&rsquo;importance est accordé au rang FFG et beaucoup de mépris aux divers rang sur internet et en particulier OGS.</p>
<p>En particulier plusieurs arguments à cela reviennent souvent :</p>
<ul>
<li><em>On joue moins sérieusement sur Internet</em></li>
<li><em>On ne peut pas contrôler si le joueur triche sur internet</em></li>
<li><em>Les types de parties peuvent varier beaucoup sur internet</em></li>
</ul>
<p>Mon intuition de statisticien est que ces éléments ont peu d&rsquo;importance par rapport à deux facteurs ou internet est bien meilleur que tout système basé sur des match IRL ou sélectionnés :</p>
<ol>
<li>le nombre de matchs joué</li>
<li>la variété des joueurs rencontrés, en particulier le nombre de joueurs de son niveau</li>
</ol>
<p>Arrivant maintenant à quelques mois de jeu intense sur le 19x19, je commence à mieux situer mon rang : 8kyu sur OGS, 8kyu sur Fox, 9kyu sur BadukPop, 8kyu sur GoQuest et&mldr; 12kyu FFG. Rien d&rsquo;étonnant à cela, j&rsquo;ai 6 matchs FFG (et des matchs en ligne). A comparer à plusieurs centaines sur chaque plateforme en ligne!</p>
<p>Dans cet article je me propose de modéliser les arguments contre le ranking en ligne et de voir quel est leur impact sur la qualité du ranking par rapport au système hybride!</p>
<h2 id=hypothèses>Hypothèses</h2>
<p>Pour une bonne étude on va faire quelques hypothèses. Si ça ne vous intéresse pas et que vous voulez juste voir les courbes, passez à la partie suivante.</p>
<h3 id=système-de-mise-a-jour-du-rang-et-probabilité-de-gagner>Système de mise a jour du rang et probabilité de gagner</h3>
<p>Pour le système de mise a jour du rang et la probabilité de gagner, j&rsquo;ai utilisé <a href=https://ffg.jeudego.org/echelle/echelle_algo.php>ceux de la FFG</a> qui ont l&rsquo;avantage d&rsquo;être très bien définis et expliqués.</p>
<p>La probabilité de gagner de la FFG est basée sur la formule suivante :</p>
<p>$$ p(D) = \frac{1}{e^{\frac{D}{a}} + 1} - \frac{1}{2}\epsilon $$</p>
<p>où :</p>
<ul>
<li>$D$ est la différence de rang entre les joueurs</li>
<li>$a$ est un paramètre qui dépend du rang du joueur mesuré</li>
<li>$\epsilon$ est une constante fixée à 0.016</li>
</ul>
<p>Pour vous donner une idée, cette formule donne les probabilités suivantes :</p>
<table>
<thead>
<tr>
<th></th>
<th>10kyu</th>
<th>9kyu</th>
<th>7kyu</th>
<th>1kyu</th>
</tr>
</thead>
<tbody>
<tr>
<td>10kyu</td>
<td>49.2%</td>
<td>33.1%</td>
<td>11.1%</td>
<td>0.0%</td>
</tr>
<tr>
<td>9kyu</td>
<td>65.2%</td>
<td>49.2%</td>
<td>19.3%</td>
<td>0.0%</td>
</tr>
<tr>
<td>7kyu</td>
<td>87.2%</td>
<td>79.0%</td>
<td>49.2%</td>
<td>0.3%</td>
</tr>
<tr>
<td>1kyu</td>
<td>98.4%</td>
<td>98.4%</td>
<td>98.0%</td>
<td>49.2%</td>
</tr>
</tbody>
</table>
<p>Remarque : les probabilités ne s&rsquo;additionnent pas à 100% et c&rsquo;est normal c&rsquo;est à cause du $\epsilon$, elles s&rsquo;aditionnent à 98.4%.</p>
<p>L&rsquo;évolution du rang est alors directement déterminé par cette formule, si un joueur a gagné ou perdu son rang évoluera d&rsquo;autant plus que cette victoire était improbable.</p>
<h3 id=evolution-du-rang-de-fox>Evolution du rang de FOX</h3>
<p>J&rsquo;ai aussi modélisé l&rsquo;évolution du rang à la façon du server chinois FOX. Le système est beaucoup plus simple : un certain nombre de parties gagnées ou perdues d&rsquo;affilé vous fait gagner ou perdre un rang (les rangs sont donc discrets)</p>
<p><img src=https://i.imgur.com/TTMOmqC.png alt=Imgur></p>
<h2 id=variabilité-du-joueur>Variabilité du joueur</h2>
<p>Rentrons maintenant dans le gras pour simuler le joueur. Etant donné son rang théorique $r_{reel}$, on va supposer que le joueur est suceptible d&rsquo;être affecté par deux facteurs :</p>
<ul>
<li>un &ldquo;manque de sérieux&rdquo; qui serait un biais constant de son niveau (au lieu de jouer à son niveau il joue un niveau en dessous)</li>
<li>un &ldquo;humeur du jour&rdquo;, il y a des jours avec et sans donc a chaque partie son niveau de jeu peut bouger.</li>
</ul>
<p>Je propose alors la formule suivante pour déterminer le niveau de jeu du joueur :</p>
<p>$$ r_{jeu} = r_{reel} + s + a$$</p>
<p>où $s$ est une constante et $a$ est une variable aléatoire.</p>
<p>Et du coup on peut imaginer deux modèles pour les tournois FFG et OGS :</p>
<p><strong>Tournoi</strong>
En tournoi notre sérieux est au maximum donc on va fixer $s$ à 0. Par contre on est toujours suceptible de varier de niveau, je propose de fixer cette variance à un demi niveau, donc on tirera au hasard entre $\pm 0.5$ niveau son décalage de niveau. Ca nous donne un joueur assez stable.</p>
<p><strong>OGS et autres serveurs</strong>
Pour OGS et autres servers en ligne, on va avoir plus de variabilité du fait des arguments plus haut.</p>
<p>Je porpose de fixer le $s$ du joueur à -1 rang, c&rsquo;est a dire qu&rsquo;il a tendance a jouer un rang en dessous de son niveau réel. Et sa variance $a$ à 2 niveaux, c&rsquo;est a dire qu&rsquo;il peut jouer très mal ou très bien, c&rsquo;est le bordel.</p>
<p>L&rsquo;argument sur le sérieux de jeu tiens aussi pour les adversaires donc je propose aussi de moédliser les adversaires. Histoire de forcer le trait, je porpose de modéliser des adversaires globalement plus sérieux avec un $s$ tiré aléatoirement autour de -0.5 niveaux et avec une variance de 0.5 niveaux. Dit autrement, les adversaires quant à eux jouent donc entre -1 niveaux et leur niveau réel. Puis à ça j&rsquo;ajoute la même variabilité $a$ que le joueur soit de deux niveaux.</p>
<h2 id=variabilité-des-parties>Variabilité des parties</h2>
<p>Je voulais aussi modéliser la variabilité des parties auxquelles on a accès ce qui est pour le coup très différent entre un tournoi &ldquo;FFG&rdquo; et un server en ligne.</p>
<h3 id=tournoi>Tournoi</h3>
<p>Pour les tournois je me suis basé sur le système de vagues de SITS :</p>
<ul>
<li>Une quarantaine de joueurs entre 20kyu et 5d</li>
<li>On fait des rondes de 4 joueurs en les classant par niveaux</li>
<li>Chaque ronde joue tous les match possibles.</li>
</ul>
<p>On a donc 3 match par tournoi et un tournoi par mois ce qui fait 36 matchs dans l&rsquo;année. Pour choisir les niveaux des joueurs je les tire au hasard dans les niveaux possibles.</p>
<p><em>Pourquoi modéliser ce système?</em></p>
<p>Parce qu&rsquo;il est une manière simple de modéliser le fait que IRL ce n&rsquo;est pas toujours évident d&rsquo;avoir des rencontres de niveaux équivalents.</p>
<h3 id=ogs>OGS</h3>
<p>Pour OGS on va modéliser un matchmaking. Dans mon expérience, il marche plutôt bien donc on va supposer que le joueur qu&rsquo;on rencontre est à plus ou moins un rang de notre rang. J&rsquo;ai aussi été voir mes statistiques pour savoir combien de parties considérer et j&rsquo;ai donc choisi de modéliser que l&rsquo;on joue 40 fois plus de parties sur ces servers que IRL (rappel : ces parties sont beaucoup moins &ldquo;sérieuses&rdquo;, c&rsquo;est l&rsquo;objet de la partie précédente)</p>
<h2 id=résultats>Résultats</h2>
<p>Voyons donc voir ce que donne ce modèle! A chaque fois je considère le cas d&rsquo;un joueur 9kyu dans deux cas :</p>
<ul>
<li>l&rsquo;évaluation du joueur en partant de son vrai niveau</li>
<li>l&rsquo;évaluation du joueur en partant d&rsquo;un niveau faux (15kyu)</li>
</ul>
<h3 id=evaluation-dun-joueur-constant>Evaluation d&rsquo;un joueur constant</h3>
<p>Commençons par un joueur constant qui reste 9kyu toute l&rsquo;année. Si on l&rsquo;estime 9kyu dès le départ et qu&rsquo;on laisse évoluer au grès des parties ça donne ça :</p>
<p><img src=https://i.imgur.com/6JD1fqP.jpg alt=Imgur></p>
<ul>
<li>En vert, la ligne horizontale est le niveau réel du joueur (-900 veut dire 9kyu).</li>
<li>En rouge son niveau FFG</li>
<li>En bleu son niveau Fox</li>
<li>En orange son niveau OGS</li>
</ul>
<p>Ce qu&rsquo;on voit ici c&rsquo;est que le niveau reste globalement constant. Les niveaux en ligne sont un peu sous évalués (lié au &ldquo;s&rdquo; modélisé plus haut). Par contre le niveau FFG a une énorme variance principalement du à mon avis à deux choses :</p>
<ul>
<li>il est basé sur trop peu de rencontres</li>
<li>les rencontres ne sont pas toujours avec des joueurs de niveaux proches</li>
</ul>
<p>Si maintenant on estime mal le niveau de départ du joueur ça donne ça :</p>
<p><img src=https://i.imgur.com/uk6bbNs.jpg alt=Imgur></p>
<p>Ici on voit que le niveau FFG met pratiquement un an à approcher le niveau réel du joueur alors que les servers en ligne eux y arrivent en quelque jours (je vous rappelle que la figure est étalée sur un an).
C&rsquo;est bien sur dû au fait qu&rsquo;en ligne il y a un matchmaking et beaucoup de rencontres. Les tournois tels que modélisés ici ont un matchmaking de moindre qualité et surtout beaucoup moins de rencontres.</p>
<p>On remarque aussi que le système de Fox est plutôt bon. Non seulement il a le bon goût d&rsquo;être assez stable mais aussi d&rsquo;être très réactif!</p>
<h3 id=evaluation-dun-joueur-qui-progresse>Evaluation d&rsquo;un joueur qui progresse</h3>
<p>Maintenant modélisons un joueur qui progresse, on va supposer qu&rsquo;il gagne 3 niveaux en un an (en termes FFG, il gagne un point par jour et donc a 365 jours il est passé de -900 à -535). Si on estime bien son niveau de départ ça donne ça :</p>
<p><img src=https://i.imgur.com/Jz35kYS.jpg alt=Imgur></p>
<p>C&rsquo;est pas glorieux pour toutes les mesures mais on voit quand même le niveau FFG dériver petit à petit, n&rsquo;étant pas assez réactif pour suivre l&rsquo;évolution de niveau.</p>
<p><img src=https://i.imgur.com/99cgzD2.jpg alt=Imgur></p>
<p>En partant du mauvais niveau c&rsquo;est bien sur pire encore&mldr;</p>
<h3 id=un-joueur-qui-joue-peu-en-ligne>Un joueur qui joue peu en ligne</h3>
<p>Alors bien sûr on parle ici d&rsquo;un joueur qui joue 30 fois plus en ligne qu&rsquo;IRL, voyons un peu ce qui se passe s&rsquo;il ne joue que 10 fois plus (joueur qui évolue avec mauvaise estiamtion de départ) :</p>
<p><img src=https://i.imgur.com/pl8ujhj.jpg alt=Imgur></p>
<p>On voit que c&rsquo;est sensiblement la même chose. Et s&rsquo;il joue 2 fois plus seulement :</p>
<p><img src=https://i.imgur.com/kytrThp.jpg alt=Imgur></p>
<p>Là ça devient aussi mauvais que le rang FFG avec malgré tout moins de variance (cela étant principalement du au fait que le matchmaking est fait à chaque match sur OGS alors qu&rsquo;il est fait tous les 3 matchs sur les vagues a mon avis).</p>
<h2 id=conclusions>Conclusions</h2>
<p>Ce que je retire de ça confirme mes soupçons : même en jouant de manière beaucoup plus variable sur OGS, le site aura tendance a mieux estimer le rang du joueur que le système FFG qui se limite à des compétitions sérieuses et contrôlées. En effet, la variabilité du jeu est largement compensée par le nombre de parties et le système de matchmaking.</p>
<p>Une limite a avoir en tête, ici j&rsquo;ai utilisé le système FFG pour les évolutions de rang OGS mais OGS utilise un système différent, ça me paraissait intéressant de tester &ldquo;à armes égales&rdquo;.</p>
<p>Par contre ce n&rsquo;est pas magique, si un joueur joue peu sur OGS ou s&rsquo;il joue toujours avec les mêmes personnes qui plus est des gens de niveau très différent, le système de rang d&rsquo;OGS sera probablement beaucoup plus mauvais. Et j&rsquo;ai supposé tout le long que le joueur ne triche pas (je pense par contre qu&rsquo;on peut considérer que le $s$ modélise pas trop mal les eventuels adversaires qui trichent).</p>
<h2 id=code>Code</h2>
<p>Si vous voulez voir le code source (parce que je suis pas à l&rsquo;abri d&rsquo;une erreur&mldr;), il est sur <a href=https://gist.github.com/BCoulange/97211e82c69588d115dd634f7f2e0ff5>Github</a></p>
</div>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//gozette.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</section>
</article>
</div>
</main>
<aside class="read-next outer">
<div class=inner>
<div class=read-next-feed>
<article class=read-next-card>
<header class=read-next-card-header>
<h3><span>More in</span> <a href=../../tags/ranking>ranking</a></h3>
</header>
<div class=read-next-card-content>
<ul>
</ul>
</div>
</article>
<article class="post-card post">
<a class=post-card-image-link href=https://gozette.fr/posts/20220218-pendantcetempssurfox/>
<img class=post-card-image src=https://i.imgur.com/D4bNdyI.png alt="Pendant ce temps sur Fox">
</a>
<div class=post-card-content>
<a class=post-card-content-link href=https://gozette.fr/posts/20220218-pendantcetempssurfox/>
<header class=post-card-header>
<div class=post-card-primary-tag>Gozette 3</div>
<h2 class=post-card-title>Pendant ce temps sur Fox</h2>
</header>
<section class=post-card-excerpt>
<p><p>Depuis plusieurs mois maintenant, je joue régulièrement au Go sur le server actuellement le plus populaire au monde : FOX. Tous ceux qui se sont déjà connectés sur ce server le savent, le stype de jeu y est très particulier. Certains en ont peur, d&rsquo;autres en sont amusés et d&rsquo;autres, comme moi, aiment bien ce mode de jeu dynamique et qui ose tout.</p></p>
</section>
</a>
<footer class=post-card-meta>
<ul class=author-list>
<li class=author-list-item>
<div class=author-name-tooltip>Nicotupe</div>
<a href=# class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21.0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#fff"/></g></svg></a>
</li>
</ul>
<div class=post-card-byline-content>
<span>Nicotupe</span>
<span class=post-card-byline-date><time datetime=2022-122-02>18 February 2022</time>
<span class=bull>&bull;</span> 3 min read</span>
</div>
</footer>
</div>
</article>
<article class="post-card post">
<a class=post-card-image-link href=https://gozette.fr/posts/20220224-9x9grandgoban/>
<img class=post-card-image src=https://i.imgur.com/K9xLq4L.png alt="Une vue du 9x9">
</a>
<div class=post-card-content>
<a class=post-card-content-link href=https://gozette.fr/posts/20220224-9x9grandgoban/>
<header class=post-card-header>
<div class=post-card-primary-tag>Gozette 3</div>
<h2 class=post-card-title>Une vue du 9x9</h2>
</header>
<section class=post-card-excerpt>
<p><p>Comme beaucoup le savent, je suis un grand fan du format 9x9 pour le go et je vous propose ici une nouvelle façon de voir l&rsquo;ouverture et le jeu au 9x9 en s&rsquo;imaginant sur un 19x19.</p></p>
</section>
</a>
<footer class=post-card-meta>
<ul class=author-list>
<li class=author-list-item>
<div class=author-name-tooltip>Nicotupe</div>
<a href=# class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21.0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#fff"/></g></svg></a>
</li>
</ul>
<div class=post-card-byline-content>
<span>Nicotupe</span>
<span class=post-card-byline-date><time datetime=2022-122-02>24 February 2022</time>
<span class=bull>&bull;</span> 2 min read</span>
</div>
</footer>
</div>
</article>
</div>
</div>
</aside>
<footer class="site-footer outer">
<div class="site-footer-content inner">
<section class=copyright><a href=https://gozette.fr>La Gozette du senté</a> &copy; 2022</section>
<nav class=site-footer-nav>
<a href=https://gozette.fr>Latest Posts</a>
<a href=https://jonathanjanssens.com target=_blank rel=noopener style=opacity:.5>Hugo Casper3 by Jonathan Janssens</a>
</nav>
</div>
</footer>
</div>
</body>
</html>